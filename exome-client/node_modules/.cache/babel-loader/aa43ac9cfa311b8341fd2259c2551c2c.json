{"ast":null,"code":"import _toConsumableArray from\"/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import{Navibar}from'../component/Navibar';import Table from'react-bootstrap/Table';import{api}from'../services/api.service';import{userService}from'../services/user.service';var HomePage=/*#__PURE__*/function(_React$Component){_inherits(HomePage,_React$Component);var _super=_createSuper(HomePage);function HomePage(props){var _this;_classCallCheck(this,HomePage);_this=_super.call(this,props);_this.state={user:{},users:[],probands:[],phenotypes:[]};return _this;}_createClass(HomePage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({user:JSON.parse(localStorage.getItem('user')),users:{loading:true},probands:{loading:true},phenotypes:[]});userService.getAll().then(function(users){return _this2.setState({users:users});});// Retrieves data which is used in Table \napi.getProbands().then(function(probands){_this2.setState({probands:probands});for(var i=0;i<probands.length;i++){api.getPheno(JSON.stringify(probands[i].proband)).then(function(pheno){_this2.setState(function(prevState){return{phenotypes:[].concat(_toConsumableArray(prevState.phenotypes),[_toConsumableArray(pheno)])};});});}});}},{key:\"render\",value:function render(){var _this$state=this.state,user=_this$state.user,users=_this$state.users,probands=_this$state.probands,phenotypes=_this$state.phenotypes;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Navibar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 col-md-offset-0\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Hi \",user.firstName,\"!\"),/*#__PURE__*/React.createElement(\"p\",null,\"You're logged in with React & Basic HTTP Authentication!!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-12 col-md-offset-0\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Probands from secure api end point:\"),!probands.loading&&/*#__PURE__*/React.createElement(Table,{striped:true,bordered:true,hover:true,variant:\"dark\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"#\"),/*#__PURE__*/React.createElement(\"th\",null,\"Proband\"),/*#__PURE__*/React.createElement(\"th\",null,\"Phenotype\"),/*#__PURE__*/React.createElement(\"th\",null,\"Review Proband\"))),/*#__PURE__*/React.createElement(\"tbody\",null,probands.map(function(proband,index){return/*#__PURE__*/React.createElement(\"tr\",{key:index},/*#__PURE__*/React.createElement(\"td\",null,index),/*#__PURE__*/React.createElement(\"td\",null,proband.proband),/*#__PURE__*/React.createElement(\"td\",null,phenotypes[index]),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"a\",{href:window.location.origin.toString()+\"/sample/:\"+proband.proband},/*#__PURE__*/React.createElement(\"div\",null,\"View Review Page \",\"->\"))));})))));}}]);return HomePage;}(React.Component);export{HomePage};","map":{"version":3,"sources":["/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/src/homePage/homePage.jsx"],"names":["React","Link","Navibar","Table","api","userService","HomePage","props","state","user","users","probands","phenotypes","setState","JSON","parse","localStorage","getItem","loading","getAll","then","getProbands","i","length","getPheno","stringify","proband","pheno","prevState","firstName","map","index","window","location","origin","toString","Component"],"mappings":"24BAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,sBAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,uBAAlB,CAEA,OAASC,GAAT,KAAoB,yBAApB,CACA,OAASC,WAAT,KAA4B,0BAA5B,C,GAEMC,CAAAA,Q,gHACF,kBAAYC,KAAZ,CAAmB,0CACf,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETC,KAAK,CAAE,EAFE,CAGTC,QAAQ,CAAE,EAHD,CAITC,UAAU,CAAE,EAJH,CAAb,CAHe,aASlB,C,kFAEmB,iBAChB,KAAKC,QAAL,CAAc,CACVJ,IAAI,CAAEK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CADI,CAEVP,KAAK,CAAE,CAAEQ,OAAO,CAAE,IAAX,CAFG,CAGVP,QAAQ,CAAE,CAAEO,OAAO,CAAE,IAAX,CAHA,CAIVN,UAAU,CAAE,EAJF,CAAd,EAOAP,WAAW,CAACc,MAAZ,GAAqBC,IAArB,CAA0B,SAAAV,KAAK,QAAI,CAAA,MAAI,CAACG,QAAL,CAAc,CAAEH,KAAK,CAALA,KAAF,CAAd,CAAJ,EAA/B,EAEA;AACAN,GAAG,CAACiB,WAAJ,GAAkBD,IAAlB,CAAuB,SAAAT,QAAQ,CAAI,CAC/B,MAAI,CAACE,QAAL,CAAc,CAAEF,QAAQ,CAARA,QAAF,CAAd,EACA,IAAK,GAAIW,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGX,QAAQ,CAACY,MAA7B,CAAqCD,CAAC,EAAtC,EACIlB,GAAG,CAACoB,QAAJ,CAAaV,IAAI,CAACW,SAAL,CAAed,QAAQ,CAACW,CAAD,CAAR,CAAYI,OAA3B,CAAb,EAAkDN,IAAlD,CAAuD,SAAAO,KAAK,CAAI,CAC5D,MAAI,CAACd,QAAL,CAAc,SAAAe,SAAS,QAAK,CACxBhB,UAAU,8BAAMgB,SAAS,CAAChB,UAAhB,sBAAgCe,KAAhC,GADc,CAAL,EAAvB,EAGH,CAJD,EADJ,CAMH,CARD,EASH,C,uCAEQ,iBACyC,KAAKnB,KAD9C,CACGC,IADH,aACGA,IADH,CACSC,KADT,aACSA,KADT,CACgBC,QADhB,aACgBA,QADhB,CAC0BC,UAD1B,aAC0BA,UAD1B,CAEL,mBACI,4CACA,oBAAC,OAAD,MADA,cAGA,2BAAK,SAAS,CAAC,0BAAf,eACI,oCAAQH,IAAI,CAACoB,SAAb,KADJ,cAEI,yFAFJ,CAHA,cAOA,2BAAK,SAAS,CAAC,2BAAf,eACA,oEADA,CAEC,CAAClB,QAAQ,CAACO,OAAV,eACD,oBAAC,KAAD,EAAO,OAAO,KAAd,CAAe,QAAQ,KAAvB,CAAwB,KAAK,KAA7B,CAA8B,OAAO,CAAC,MAAtC,eACA,8CACI,2CACA,kCADA,cAEA,wCAFA,cAGA,0CAHA,cAIA,+CAJA,CADJ,CADA,cAUA,iCACKP,QAAQ,CAACmB,GAAT,CAAa,SAACJ,OAAD,CAAUK,KAAV,qBACV,0BAAI,GAAG,CAAEA,KAAT,eACI,8BAAKA,KAAL,CADJ,cAEI,8BAAKL,OAAO,CAACA,OAAb,CAFJ,cAGI,8BAAKd,UAAU,CAACmB,KAAD,CAAf,CAHJ,cAII,2CACI,yBAAG,IAAI,CAAEC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuBC,QAAvB,GAAkC,WAAlC,CAA8CT,OAAO,CAACA,OAA/D,eACI,mDACsB,IADtB,CADJ,CADJ,CAJJ,CADU,EAAb,CADL,CAVA,CAHA,CAPA,CADJ,CA0CH,C,sBA9EkB1B,KAAK,CAACoC,S,EAiF7B,OAAS9B,QAAT","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Navibar } from '../component/Navibar'\nimport Table from 'react-bootstrap/Table';\n\nimport { api } from '../services/api.service';\nimport { userService } from '../services/user.service';\n\nclass HomePage extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            user: {},\n            users: [],\n            probands: [],\n            phenotypes: [],\n        };\n    }\n\n    componentDidMount() {\n        this.setState({ \n            user: JSON.parse(localStorage.getItem('user')),\n            users: { loading: true },\n            probands: { loading: true },\n            phenotypes: []\n        });\n\n        userService.getAll().then(users => this.setState({ users }));\n\n        // Retrieves data which is used in Table \n        api.getProbands().then(probands => {\n            this.setState({ probands })\n            for (var i = 0; i < probands.length; i++)\n                api.getPheno(JSON.stringify(probands[i].proband)).then(pheno => {\n                    this.setState(prevState => ({\n                        phenotypes: [...prevState.phenotypes, [...pheno]]\n                      }));\n                })\n        });\n    }\n\n    render() {\n        const { user, users, probands, phenotypes } = this.state;\n        return (\n            <div>\n            <Navibar></Navibar>\n            \n            <div className=\"col-md-6 col-md-offset-0\">\n                <h1>Hi {user.firstName}!</h1>\n                <p>You're logged in with React & Basic HTTP Authentication!!</p>\n            </div>\n            <div className=\"col-md-12 col-md-offset-0\">\n            <h3>Probands from secure api end point:</h3>\n            {!probands.loading && \n            <Table striped bordered hover variant=\"dark\">\n            <thead>\n                <tr>\n                <th>#</th>\n                <th>Proband</th>\n                <th>Phenotype</th>\n                <th>Review Proband</th>\n                </tr>\n            </thead>\n\n            <tbody>\n                {probands.map((proband, index) => (\n                    <tr key={index}>\n                        <td>{index}</td>\n                        <td>{proband.proband}</td>\n                        <td>{phenotypes[index]}</td>\n                        <td>\n                            <a href={window.location.origin.toString()+\"/sample/:\"+proband.proband}>\n                                <div>\n                                    View Review Page {\"->\"}\n                                </div>\n                            </a>\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n            </Table>\n            }\n            </div>\n            </div>\n        );\n    }\n}\n\nexport { HomePage };\n"]},"metadata":{},"sourceType":"module"}