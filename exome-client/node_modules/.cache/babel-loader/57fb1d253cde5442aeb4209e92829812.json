{"ast":null,"code":"import { userService } from '../services/user.service';\nimport { authHeader } from './auth-header'; // Need to update to work with server.js responses!!\n\nfunction handleResponse(response) {\n  return response.text().then(text => {\n    const data = text && JSON.parse(text);\n\n    if (response.status !== 200) {\n      if (response.status === 401) {\n        // auto logout if 401 response returned from api\n        userService.logout();\n        window.location.reload(true);\n      }\n\n      const error = data && data.message || response.statusText;\n      return Promise.reject(error);\n    }\n\n    return data;\n  });\n}\n\nconst apiUrl = \"http://localhost:8002\";\n/*\nfunction getProbands() {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", \"Basic dGVzdDp0ZXN0\");\n\n    var requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    };\n\n    fetch(`${apiUrl}/proband`, requestOptions)\n    .then(data => {\n        if (data) {\n            return data.text()\n        }\n        return \"Error\"\n    })\n}*/\n\nasync function getProbands() {\n  axios.get('http://localhost:8002/', requestOptions).then(response => {\n    console.log(response.data);\n    console.log(response.status);\n    console.log(response.statusText);\n    console.log(response.headers);\n    console.log(response.config);\n  });\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  myHeaders.append(\"Authorization\", \"Basic dGVzdDp0ZXN0\");\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders\n  };\n  return fetch(`http://localhost:8002/`, requestOptions).then(data => {\n    if (data) {\n      console.log(data);\n      return data.text;\n    }\n\n    return \"Error\";\n  });\n}\n\nfunction getProbandById(proband) {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      data: \"Request for list of probands and phenotypes\"\n    })\n  };\n  return fetch(`${apiUrl}/proband?id=${proband}`, requestOptions).then(handleResponse).then(data => {\n    if (data) {\n      return data;\n    }\n\n    return \"Error\";\n  });\n}\n\nfunction getPheno(proband) {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      data: \"Request for list of probands and phenotypes\"\n    })\n  };\n  return fetch(`${apiUrl}/proband/genes?id=${proband}`, requestOptions).then(handleResponse).then(data => {\n    if (data) {\n      return data;\n    }\n\n    return \"Error\";\n  });\n}\n\nfunction getGenes(proband) {\n  const requestOptions = {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      data: \"Request for list of probands and phenotypes\"\n    })\n  };\n  return fetch(`${apiUrl}/proband/genes?id=${proband}`, requestOptions).then(handleResponse).then(data => {\n    if (data) {\n      return data;\n    }\n\n    return \"Error\";\n  });\n}\n\nexport const api = {\n  getProbands,\n  getProbandById,\n  getPheno,\n  getGenes\n};","map":{"version":3,"sources":["/Users/samueldsouza/Desktop/GGC/ggcRD-Sam/ggcrd-sam/ggcrd-client/src/helpers/api.handle.js"],"names":["userService","authHeader","handleResponse","response","text","then","data","JSON","parse","status","logout","window","location","reload","error","message","statusText","Promise","reject","apiUrl","getProbands","axios","get","requestOptions","console","log","headers","config","myHeaders","Headers","append","method","fetch","getProbandById","proband","body","stringify","getPheno","getGenes","api"],"mappings":"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","sourcesContent":["import { userService } from '../services/user.service'\nimport { authHeader } from './auth-header';\n\n// Need to update to work with server.js responses!!\nfunction handleResponse(response) {\n    return response.text().then(text => {\n        const data = text && JSON.parse(text);\n        if (response.status !== 200) {\n            if (response.status === 401) {\n                // auto logout if 401 response returned from api\n                userService.logout();\n                window.location.reload(true);\n            }\n\n            const error = (data && data.message) || response.statusText;\n            return Promise.reject(error);\n        }\n\n        return data;\n    });\n}\n\nconst apiUrl = \"http://localhost:8002\"\n/*\nfunction getProbands() {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", \"Basic dGVzdDp0ZXN0\");\n\n    var requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    };\n\n    fetch(`${apiUrl}/proband`, requestOptions)\n    .then(data => {\n        if (data) {\n            return data.text()\n        }\n        return \"Error\"\n    })\n}*/\n\nasync function getProbands() {\n    axios.get('http://localhost:8002/', requestOptions)\n        .then((response) => {\n            console.log(response.data);\n            console.log(response.status);\n            console.log(response.statusText);\n            console.log(response.headers);\n            console.log(response.config);\n        });\n\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    myHeaders.append(\"Authorization\", \"Basic dGVzdDp0ZXN0\");\n\n    const requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n    };\n\n    return fetch(`http://localhost:8002/`, requestOptions)\n        .then(data => {\n            if (data) {\n                console.log(data)\n                return data.text\n            }\n            return \"Error\";\n        });\n}\n\nfunction getProbandById(proband) {\n    const requestOptions = {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({data: \"Request for list of probands and phenotypes\"})\n    };\n\n    return fetch(`${apiUrl}/proband?id=${proband}`, requestOptions)\n        .then(handleResponse)\n        .then(data => {\n            if (data) {\n                return data\n            }\n            return \"Error\";\n        });\n}\nfunction getPheno(proband) {\n    const requestOptions = {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({data: \"Request for list of probands and phenotypes\"})\n    };\n\n    return fetch(`${apiUrl}/proband/genes?id=${proband}`, requestOptions)\n        .then(handleResponse)\n        .then(data => {\n            if (data) {\n                return data\n            }\n            return \"Error\";\n        });\n}\nfunction getGenes(proband) {\n    const requestOptions = {\n        method: 'GET',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({data: \"Request for list of probands and phenotypes\"})\n    };\n\n    return fetch(`${apiUrl}/proband/genes?id=${proband}`, requestOptions)\n        .then(handleResponse)\n        .then(data => {\n            if (data) {\n                return data\n            }\n            return \"Error\";\n        });\n}\n\nexport const api = {\n    getProbands,\n    getProbandById,\n    getPheno,\n    getGenes\n};"]},"metadata":{},"sourceType":"module"}